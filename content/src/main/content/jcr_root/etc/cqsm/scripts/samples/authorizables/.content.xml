<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:sling="http://sling.apache.org/jcr/sling/1.0" xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0"
    jcr:primaryType="cq:Page">
    <jcr:content
        cq:designPath="/etc/designs/cqsm"
        jcr:primaryType="cq:PageContent"
        jcr:title="Authorizable example"
        sling:resourceType="cqsm/core/renderers/exampleCqsmRenderer"
        content="# This script provides example actions for authorizable manipulation.&#xa;&#xa;# With &quot;DEFINE&quot; action we can set constant value that can be used in whole script&#xa;DEFINE profilePath profile&#xa;&#xa;# This action will create group. This action can be used with mandatory param &quot;IF-NOT-EXISTS&quot; and execute this action only if given group do not exists. We can specify path where group will be created.&#xa;CREATE-GROUP test_group_1 IF-NOT-EXISTS&#xa;&#xa;CREATE-GROUP test_group_2 &#xa;&#xa;CREATE-GROUP test_group_3 /home/groups/company/cognifide&#xa;&#xa;# This action will create user. Same &quot;IF-NOT-EXISTS&quot; param as in groups. We can also set password while creating user. We can specify path where user will be created.&#xa;CREATE-USER test_user_1 IF-NOT-EXISTS&#xa;&#xa;CREATE-USER test_user_2 &#xa;&#xa;CREATE-USER test_user_3 password3 &#xa;&#xa;CREATE-USER test_user_4 /home/users/company/cognifide&#xa;&#xa;# For these actions we need context. To set context use &quot;FOR-USER&quot; or &quot;FOR-GROUP&quot; action.&#xa;FOR-USER test_user_1 &#xa;&#x9;ADD-TO-GROUP test_group_1 test_group_2&#xa;&#x9;&#xa;FOR-USER test_user_2&#xa;&#x9;ADD-TO-GROUP test_group_1&#xa;&#x9;&#xa;FOR-USER test_user_3 &#xa;&#x9;ADD-TO-GROUP test_group_1 test_group_2&#xa;&#x9;REMOVE-FROM-GROUP test_group_1&#xa;&#xa;# We will use pre-defined value &quot;profilePath&quot;&#xa;FOR-USER test_user_1&#xa;&#x9;SET-PROPERTY ${profilePath}/firstName John&#xa;&#x9;SET-PROPERTY ${profilePath}/familyName Doe&#xa;&#x9;&#xa;FOR-USER test_user_2&#xa;&#x9;SET-PASSWORD newPassword2&#xa;&#x9;&#xa;# &quot;EXLUDE&quot; and &quot;INCLUDE&quot; actions work only with group context &#xa;# &quot;EXLUDE&quot; action will remove specified user from context group&#xa;# &quot;INCLUDE&quot; action will add specified user to context group&#xa;FOR-GROUP test_group_2&#xa;&#x9;EXLUDE test_user_3&#xa;&#x9;INCLUDE tets_user_2&#xa;&#x9;&#xa;# &quot;REMOVE-USER&quot; do not need context to work. We can delete specified users.&#xa;REMOVE-USER test_user_3 test_user_4&#xa;&#xa;# &quot;REMOVE-GROUP&quot; do not need context to work. We can delete specified groups.&#xa;REMOVE-GROUP test_group_3 test_group_4&#xa;"/>
</jcr:root>
