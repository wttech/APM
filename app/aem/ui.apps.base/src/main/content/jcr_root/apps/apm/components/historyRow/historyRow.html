<!-- /*
* ========================LICENSE_START=================================
* AEM Permission Management
* %%
* Copyright (C) 2013 - 2018 Wunderman Thompson Technology
* %%
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
* =========================LICENSE_END==================================
*/ -->
<sly data-sly-use.item="com.cognifide.apm.core.history.HistoryEntryImpl"/>
<tr class="foundation-collection-item foundation-collection-navigator"
    data-foundation-collection-item-id="${resource.path}" data-path="${resource.path}"
    data-timeline="true" is="coral-table-row" data-script-name="${item.scriptName}">

  <td is="coral-table-cell" coral-table-rowselect>
    <coral-icon icon="fileKey" size="M"></coral-icon>
  </td>
  <td is="coral-table-cell" value="${item.scriptName}">
    <a href="${item.scriptContentPath}" download="${item.scriptName}"
       style="text-decoration:none; color:#4b4b4b">${item.scriptName}</a>
  </td>
  <td is="coral-table-cell" value="${item.executionTime.timeInMillis || 0}">
    <time data-sly-test="${item.executionTime}" datetime="${item.executionTime.timeInMillis || 0}"
          data-sly-use.execLast="${'com.adobe.cq.xf.ui.DateFormatter' @ date=item.executionTimeCalendar, simpleFormat='yyyy-MM-dd HH:mm:ss'}">
      ${execLast.date}
    </time>
  </td>
  <td is="coral-table-cell" value="${item.author}">
    ${item.author}
  </td>
  <td is="coral-table-cell" value="${item.executor}">
    ${item.executor}
  </td>
  <td is="coral-table-cell" value="${item.instanceName}">
    ${item.instanceName}
  </td>
  <td is="coral-table-cell" value="${item.mode}">
    ${item.mode}
  </td>
  <td is="coral-table-cell">
    <sly data-sly-test="${item.executionTime}">
      <coral-icon icon="${item.isRunSuccessful ? 'check' : 'close'}"/>
    </sly>
  </td>
  <td is="coral-table-cell">
    <a is="coral-anchorbutton" icon="search" iconsize="S" href="/apm/summary.html${item.path}"></a>
  </td>
</tr>